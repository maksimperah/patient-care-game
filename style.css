*{box-sizing:border-box}
:root{
  --bg:#0a0d1f; --bg2:#0f1229; --fg:#eaf0ff; --muted:#aab3d6;
  --card:#0f1534; --line:#25306a; --accent:#7aa3ff; --accent2:#2de2ff; --good:#47ffa3; --bad:#ff6b6b;
}
html,body{height:100%}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;margin:0;background:radial-gradient(1200px 600px at 20% -10%, #2432a4 0%, transparent 60%),linear-gradient(180deg,#0a0d1f,#0a0d1f 60%, #0e1331);color:var(--fg);line-height:1.55;overflow-x:hidden}
#confetti{position:fixed;inset:0;pointer-events:none}
header{position:sticky;top:0;z-index:10}
header.glass{backdrop-filter: blur(8px);background:rgba(18,22,51,.5);border-bottom:1px solid var(--line);padding:18px 16px;text-align:center}
h1{margin:0;font-weight:800;letter-spacing:.5px}
.subtitle{opacity:.9;margin:.25rem 0 0}
.badges{margin-top:10px;display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
.badge{background:linear-gradient(135deg, rgba(42,83,221,.6), rgba(45,226,255,.3));border:1px solid var(--line);color:var(--fg);padding:6px 10px;border-radius:999px;font-size:.86rem}
.badge.action{cursor:pointer}

main{max-width:1000px;margin:0 auto;padding:24px 16px}
#hud{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;margin-bottom:16px}
.meter label{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;font-size:.95rem;opacity:.95}
.bar{background:#141a43;border-radius:12px;overflow:hidden;height:16px;border:1px solid #24306a}
.bar span{display:block;height:100%;width:50%;background:linear-gradient(90deg,var(--good),var(--accent2));transition:width .35s ease}

.card{background:var(--card);border:1px solid var(--line);padding:16px;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
h3{margin-top:0}

.choices{display:grid;gap:10px;margin:12px 0}
.choice{padding:12px;border:1px solid #2f3c79;border-radius:12px;background:#131b3f;cursor:pointer;transform:translateY(8px);opacity:0;animation:choiceIn .45s forwards}
.choice:hover{background:#192357;transform:translateY(-1px)}
.choice.selected{outline:2px solid var(--accent2)}
.hint{opacity:.85}

#controls{display:flex;gap:10px;flex-wrap:wrap;margin:16px 0}
button{background:linear-gradient(135deg,#1f6fff,#2de2ff);border:none;color:#021;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:700}
button[disabled]{opacity:.5;cursor:not-allowed}

#log{margin-top:16px}
#logList{list-style:none;padding:0;margin:0;display:grid;gap:6px}
#logList li{background:#0d1129;border:1px solid #222d5a;padding:8px;border-radius:8px;font-size:.92rem}

.board{position:fixed;inset:0;background:rgba(0,0,0,.55);display:flex;align-items:flex-start;justify-content:flex-end;padding:24px;z-index:20}
.board.hidden{display:none}
.board-inner{width:min(520px,92%);background:var(--bg2);border:1px solid var(--line);border-radius:16px;padding:16px}
.board-head{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--line);padding-bottom:8px;margin-bottom:8px}
.board-list{list-style:none;margin:0;padding:0;display:grid;gap:8px;max-height:60vh;overflow:auto}
.board-item{display:flex;gap:10px;align-items:start;background:#10163a;border:1px solid #22306a;padding:10px;border-radius:12px}
.board-item .status{font-weight:700}
.board-item .status.ok{color:var(--good)}
.board-item .status.mid{color:#ffd76b}
.board-item .status.no{color:var(--bad)}
.board-item small{color:var(--muted)}

footer{padding:12px 16px;opacity:.75;text-align:center}

/* Animations */
@keyframes choiceIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
.fade-in{animation:fadeIn .5s ease both}
.fade-up{animation:fadeUp .6s ease both}
.slide-in{animation:slideIn .5s ease both}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@keyframes slideIn{from{opacity:0;transform:translateX(-8px)}to{opacity:1;transform:translateX(0)}}
.pulse{animation:pulse .5s}
@keyframes pulse{0%{filter:brightness(1)}50%{filter:brightness(1.6)}100%{filter:brightness(1)}}
.shake{animation:shake .4s}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-3px)}75%{transform:translateX(3px)}}

.muted{color:var(--muted)}
